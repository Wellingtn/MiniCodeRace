def numero_de_mesas(dicio, lista):
    while True:
        if len(lista) < 1:
            qtd_mesas = int(input('Quantas mesas seu restaurante possui? '))
            for i in range(qtd_mesas):
                dicio['nome'] = ''
                dicio['mesa'] = i+1
                lista.append(dicio.copy())
                dicio.clear()
        else:
            cont = int(input('''Voce ja regitrou um numero de mesas. deseja cadastrar novamente?
    [1] Sim
    [2] Não
    Sua opção: '''))
            if cont == 2:
                break
#ok*- retirada do return


def reserva(lista):
    vermelho = '\033[31m'
    reset = '\033[0;0m'
    print('=-=-=Reserva de mesa=-=-=')
    qtd_pessoas = int(input('Reserva para quantas pessoas? '))
    qtd_mesas = quantidade_mesas(qtd_pessoas)
    mesas_livres = checagem_mesas(lista, qtd_mesas)
    if mesas_livres >= qtd_mesas:
        cont_reserva = 0
        for c in range(len(lista)):
            if lista[c]['nome'] == '':
                lista[c]['nome'] = input(f'Digite o nome do titular da {c+1}ª mesa: ').capitalize()
                cont_reserva += 1
            if cont_reserva == qtd_mesas:
                break
    else:
        print(f'{vermelho}ERRO: não foi possivel fazer a reserva, pois o numero solicitado é maior que o de mesas livres.{reset}')

#ok


def checagem_mesas(lista, qtd_mesas):
    mesas_livres = 0
    for c in range(len(lista)):
        if lista[c]['nome'] == '':
            mesas_livres += 1
    return mesas_livres

def desfazer_reservas(lista):
    vermelho = '\033[31m'
    reset = '\033[0;0m'
    realizado = False
    nome_titular = input('Digite o nome do titular da mesa para cancelar a mesa: ').capitalize()
    for c in range(len(lista)):
        if lista[c]['nome'] == nome_titular:
            lista[c]['nome'] = ''
            print('Reserva desfeita com sucesso.')
            realizado = True
            break
    if realizado == False:
        print(f'{vermelho}ERRO: Não foi possivel encontrar uma mesa com o nome {nome_titular} para defazer a reserva.{reset}')


def mostrar_reservas(lista):
    for c in range(len(lista)):
        print(f'nome do cliente: {lista[c]['nome']} -> mesa: {lista[c]['mesa']}', end='\n')


def quantidade_mesas(qtd_pessoas):
    if qtd_pessoas % 4 == 0:
        qtd_mesas = int(qtd_pessoas / 4)
        return qtd_mesas
    elif qtd_pessoas % 4 != 0:
        qtd_mesas = int(qtd_pessoas / 4) + 1
        return qtd_mesas



